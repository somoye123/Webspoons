<p id="notice"><%= notice %></p>

<h1>Users</h1>

<%= turbo_frame_tag "newuser" do %>
<button onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-black">New Post</button>
<% end %>


<%= form_tag(users_path, method: :get) do %>
  <p> Search for users </p>
  <%= text_field_tag(:search, params[:search]) %>
  <%= submit_tag ("Search") %>
<% end %>

<%= turbo_frame_tag "user_form" do %>
  <%= render 'users/form', user: User.new %>
<% end %>

<table>
  <thead>
    <tr>
      <th><%= link_to "Name >>", sort: "name"%> </th>
      <th><%= link_to "Email >>", sort: "email"%> </th>
      <th><%= link_to "Title >>", sort: "title"%> </th>
      <th><%= link_to "Phone >>", sort: "phone"%> </th>
      <th><%= link_to "Status >>", sort: "status"%> </th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <%= turbo_stream_from 'users' %>
    <%= turbo_frame_tag 'users' do %>
      <%= render @users %>
    <% end %>
  </tbody>
</table>

<br>

<div class="digg_pagination">
    <%= will_paginate %>
</div>
<br>

<%= link_to 'New User', new_user_path %>




<div id="id01" class="w3-modal" style="display: none">
    <div class="w3-modal-content">
      <div class="w3-container">
        <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-display-topright">&times;</span>
        
        
        <h1>User</h1>
<%= turbo_frame_tag "user" do %>
<%= render 'form', user: @user %>
<% end %>

<%= link_to 'Show', @user %> |
<%= link_to 'Back', users_path %>

      </div>
    </div>
  </div>
</div>
